"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _user=_interopRequireDefault(require("@/service/user"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _default={state:{isLogin:!!localStorage.getItem("token")},mutations:{setLoginState:function(e,t){e.isLogin=t}},actions:{login:function(e,t){var n=e.commit;return _user.default.login(t).then(function(e){var t=e.data,o=t.code,r=t.token;return o&&(n("setLoginState",!0),localStorage.setItem("token",r)),o})},logout:function(e){var t=e.commit;localStorage.removeItem("token"),t("setLoginState",!1)}}};exports.default=_default;